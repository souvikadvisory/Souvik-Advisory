<!DOCTYPE html>
<html>
<head>
  <title>Admin - Souvik Advisory</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="font-family: Arial; padding: 20px; max-width: 500px; margin: auto;">

  <h2>Create Blog Post</h2>

  <input id="title" placeholder="Title" style="width:100%; padding:8px;"><br><br>

  <textarea id="content" placeholder="Content" rows="6" style="width:100%; padding:8px;"></textarea><br><br>

  <input id="category" placeholder="Category (Finance, Banking, etc)" style="width:100%; padding:8px;"><br><br>

  <button onclick="publish()" style="padding:10px 20px;">Publish</button>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyB_yzgwkTkk-aD6cg0s_GdPMnFobB_70Ws",
  authDomain: "souvikadvisory.firebaseapp.com",
  projectId: "souvikadvisory",
  storageBucket: "souvikadvisory.firebasestorage.app",
  messagingSenderId: "66294191148",
  appId: "1:66294191148:web:dcea1bf4319e8b6c892d89"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

async function publish() {
  const title = document.getElementById("title").value;
  const content = document.getElementById("content").value;
  const category = document.getElementById("category").value;

  if (!title || !content) {
    alert("Please fill title and content");
    return;
  }

  await addDoc(collection(db, "posts"), {
    title: title,
    content: content,
    category: category,
    createdAt: new Date()
  });

  alert("Post Published Successfully!");

  document.getElementById("title").value = "";
  document.getElementById("content").value = "";
  document.getElementById("category").value = "";
}

window.publish = publish;
</script>

</body>
</html>
